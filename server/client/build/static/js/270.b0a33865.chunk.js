"use strict";(self.webpackChunktailor_desk=self.webpackChunktailor_desk||[]).push([[270],{2270:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var s=n(9439),a=n(2395),i=n(4066),l=n(390),r=n(3020),d=n(6012),c=n(8535),o=n(1539),h=(n(3508),n(9134)),x=n(17),u=n(8067),j=n(5545),v=n(6472),m=n(2559);function f(){var e=(0,l.useState)(),t=(0,s.Z)(e,2),n=t[0],f=t[1],p=(0,l.useState)(),N=(0,s.Z)(p,2),b=N[0],g=N[1],y=(0,l.useState)(),_=(0,s.Z)(y,2),D=_[0],k=_[1],w=(0,l.useState)(),S=(0,s.Z)(w,2),Z=S[0],L=S[1],B=(0,j.s0)(),q=localStorage.getItem("token"),I=function(){h.Z.get("/bill/order?userId="+u.xS,{headers:{Authorization:q}}).then((function(e){f(e.data.pendingData),g(e.data.completedData),k(e.data.deliveryData)}))},C=function(){h.Z.get("/bill/delivery_alert?userId="+u.xS,{headers:{Authorization:q}}).then((function(e){L(e.data.deliveryData)}))};(0,l.useEffect)((function(){var e=localStorage.getItem("userId"),t=localStorage.getItem("isLoggedIn");null===e||null===t?(localStorage.clear(),B("/")):(I(),C(),h.Z.get("/userdata?id="+u.xS).then((function(e){e.data.user.isLoggedIn||(localStorage.clear(),B("/"))})),document.title="Simplex Tailor - Dashboard")}),[B]);var z=function(e,t){var n=e.target.value,s="";"1"===n?s="Order marked as completed!":"2"===n&&(s="Order marked as delivered!"),h.Z.put("/bill/update_status/".concat(t),{status:n},{headers:{Authorization:q}}).then((function(e){"success"===e.data.status&&(f((function(e){return e.filter((function(e){return e._id!==t}))})),C(),I(),x.Am.success(s,{autoClose:4e3,style:{backgroundColor:"black",color:"white"}}))}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.Z,{}),(0,m.jsx)(i.Z,{}),(0,m.jsxs)("div",{className:"content-wrapper",style:{minHeight:"100vh"},children:[(0,m.jsx)("section",{className:"content-header",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row mb-2",children:(0,m.jsx)("div",{className:"col-sm-6",children:(0,m.jsx)("h1",{children:"Dashboard"})})})})}),(0,m.jsx)("section",{className:"content",children:(0,m.jsxs)(d.Z,{defaultActiveKey:"delivery alert",transition:!0,className:"mb-3",children:[(0,m.jsx)(r.Z,{eventKey:"delivery alert",title:"Delivery Alert",children:(0,m.jsx)("section",{className:"content",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Alert"}),(0,m.jsx)("th",{children:"Name"}),(0,m.jsx)("th",{children:"Bill Nu."}),(0,m.jsx)("th",{children:"Boking Date"}),(0,m.jsx)("th",{children:"Delivery Date"}),(0,m.jsx)("th",{children:"Shirt"}),(0,m.jsx)("th",{children:"Pent"}),(0,m.jsx)("th",{children:"Kurta"}),(0,m.jsx)("th",{children:"Total"}),(0,m.jsx)("th",{children:"Status"})]})}),(0,m.jsx)("tbody",{children:null===Z||void 0===Z?void 0:Z.map((function(e,t){var n,s,a,i=(new Date).toLocaleDateString("en-GB"),l=new Date(e.delivery_date).toLocaleDateString("en-GB")<i,r=((null===(n=e.shirt)||void 0===n?void 0:n.shirt_qty)||0)+((null===(s=e.pent)||void 0===s?void 0:s.pent_qty)||0)+((null===(a=e.kurta)||void 0===a?void 0:a.kurta_qty)||0);return(0,m.jsxs)("tr",{style:{color:l?"#d00000":"",fontWeight:l?"500":""},children:[l?(0,m.jsx)("td",{style:{color:"#dd1c1a",fontSize:20,padding:5},children:(0,m.jsx)(c.Uh1,{})}):(0,m.jsx)("td",{}),(0,m.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,m.jsx)("td",{children:e.customer_id.bill_nu}),(0,m.jsx)("td",{children:new Date(e.booking_date).toLocaleDateString("en-GB")}),(0,m.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,m.jsx)("td",{children:e.shirt_qty}),(0,m.jsx)("td",{children:e.pent_qty}),(0,m.jsx)("td",{children:e.kurta_qty}),(0,m.jsx)("td",{children:r}),(0,m.jsx)("td",{style:{color:0===e.status?"#ff8800":1===e.status?"green":"",fontSize:20,padding:5},children:0===e.status?(0,m.jsx)(c.Uh1,{}):(0,m.jsx)(o.nrL,{})})]},t)}))})]})})})})})}),(0,m.jsx)(r.Z,{eventKey:"pending order",title:"Pending Order",children:(0,m.jsx)("section",{className:"content",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Name"}),(0,m.jsx)("th",{children:"Bill Nu."}),(0,m.jsx)("th",{children:"Boking Date"}),(0,m.jsx)("th",{children:"Delivery Date"}),(0,m.jsx)("th",{children:"Quentity"}),(0,m.jsx)("th",{children:"Status"})]})}),(0,m.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e,t){var n,s,a,i=((null===(n=e.shirt)||void 0===n?void 0:n.shirt_qty)||0)+((null===(s=e.pent)||void 0===s?void 0:s.pent_qty)||0)+((null===(a=e.kurta)||void 0===a?void 0:a.kurta_qty)||0);return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,m.jsx)("td",{children:e.customer_id.bill_nu}),(0,m.jsx)("td",{children:new Date(e.booking_date).toLocaleDateString("en-GB")}),(0,m.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,m.jsx)("td",{children:i}),(0,m.jsx)("td",{children:(0,m.jsxs)("select",{onChange:function(t){return z(t,e._id)},children:[(0,m.jsx)("option",{value:0,children:"Pending"}),(0,m.jsx)("option",{value:1,children:"Complete"}),(0,m.jsx)("option",{value:2,children:"Deliver"})]})})]},t)}))})]})})})})})}),(0,m.jsx)(r.Z,{eventKey:"completed order",title:"Completed Order",children:(0,m.jsx)("section",{className:"content",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Name"}),(0,m.jsx)("th",{children:"Bill Nu."}),(0,m.jsx)("th",{children:"Boking Date"}),(0,m.jsx)("th",{children:"Delivery Date"}),(0,m.jsx)("th",{children:"Quentity"}),(0,m.jsx)("th",{children:"Status"})]})}),(0,m.jsx)("tbody",{children:null===b||void 0===b?void 0:b.map((function(e,t){var n,s,a,i=((null===(n=e.shirt)||void 0===n?void 0:n.shirt_qty)||0)+((null===(s=e.pent)||void 0===s?void 0:s.pent_qty)||0)+((null===(a=e.kurta)||void 0===a?void 0:a.kurta_qty)||0);return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,m.jsx)("td",{children:e.customer_id.bill_nu}),(0,m.jsx)("td",{children:new Date(e.booking_date).toLocaleDateString("en-GB")}),(0,m.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,m.jsx)("td",{children:i}),(0,m.jsx)("td",{children:(0,m.jsxs)("select",{onChange:function(t){return z(t,e._id)},children:[(0,m.jsx)("option",{value:1,children:"Complete"}),(0,m.jsx)("option",{value:2,children:"Deliver"})]})})]},t)}))})]})})})})})})})}),(0,m.jsx)(r.Z,{eventKey:"delivered order",title:"Delivered Order",children:(0,m.jsx)("section",{className:"content",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Name"}),(0,m.jsx)("th",{children:"Bill Nu."}),(0,m.jsx)("th",{children:"Delivery Date"}),(0,m.jsx)("th",{children:"Updated Delivery"}),(0,m.jsx)("th",{children:"Quentity"}),(0,m.jsx)("th",{children:"Status"})]})}),(0,m.jsx)("tbody",{children:null===D||void 0===D?void 0:D.map((function(e,t){var n,s,a,i=((null===(n=e.shirt)||void 0===n?void 0:n.shirt_qty)||0)+((null===(s=e.pent)||void 0===s?void 0:s.pent_qty)||0)+((null===(a=e.kurta)||void 0===a?void 0:a.kurta_qty)||0);return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,m.jsx)("td",{children:e.customer_id.bill_nu}),(0,m.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,m.jsx)("td",{children:e.actual_delivery_date?new Date(e.actual_delivery_date).toLocaleDateString("en-GB"):"-"}),(0,m.jsx)("td",{children:i}),(0,m.jsx)("td",{style:{padding:7},children:(0,m.jsx)(o.nrL,{style:{color:"green",fontSize:20}})})]},t)}))})]})})})})})})})})]})})]}),(0,m.jsx)(v.Z,{})]})}},6472:function(e,t,n){n.d(t,{Z:function(){return a}});var s=n(2559);function a(){return(0,s.jsx)("div",{className:"",children:(0,s.jsx)("div",{className:"wrapper",children:(0,s.jsxs)("footer",{className:"main-footer d-flex justify-content-between",children:[(0,s.jsxs)("p",{className:"mb-0",children:[(0,s.jsx)("strong",{children:"Copyright \xa9 2023-2024 SIMPLEX TAILOR ."})," All rights reserved."]}),(0,s.jsx)("p",{className:"mb-0",children:"Developed by DG."})]})})})}},8067:function(e,t,n){n.d(t,{As:function(){return i},r:function(){return a},xS:function(){return s}});var s=localStorage.getItem("userId"),a=localStorage.getItem("token"),i=localStorage.getItem("shopName")},2395:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(1413),a=n(9439),i=n(390),l=n(5400),r=n(749),d=n(8067),c=n(2559);function o(){var e=(0,i.useState)(window.innerWidth<1e3),t=(0,a.Z)(e,2),n=t[0],o=t[1];return(0,i.useEffect)((function(){var e=function(){o(window.innerWidth<1e3)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,c.jsx)("div",{className:"wrapper",children:(0,c.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[(0,c.jsxs)(l.OL,{className:"brand-link",activeClassName:"active-link",children:[(0,c.jsx)("img",{src:"/images/cap.png",className:"brand-image img-circle",style:{opacity:".8"}}),(0,c.jsx)("span",{className:"brand-text font-weight-light text-uppercase",children:(0,c.jsx)("b",{children:d.As})}),(0,c.jsx)("i",{"data-widget":"pushmenu",className:"d-lg-none ml-2 ".concat(n?"":"invisible"),children:(0,c.jsx)(r.dL9,{})})]}),(0,c.jsx)("div",{className:"sidebar",children:(0,c.jsx)("nav",{className:"mt-3",children:(0,c.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column",children:[(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsxs)(l.OL,(0,s.Z)((0,s.Z)({to:"/dashboard",className:"nav-link"},n&&{"data-widget":"pushmenu"}),{},{children:[(0,c.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),(0,c.jsx)("p",{children:"Dashboard"})]}))}),(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsxs)(l.OL,(0,s.Z)((0,s.Z)({to:"/allworker",className:"nav-link"},n&&{"data-widget":"pushmenu"}),{},{children:[(0,c.jsx)("i",{className:"nav-icon fas fa-th"}),(0,c.jsx)("p",{children:"Worker"})]}))}),(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsxs)(l.OL,(0,s.Z)((0,s.Z)({to:"/customer_list",className:"nav-link"},n&&{"data-widget":"pushmenu"}),{},{children:[(0,c.jsx)("i",{className:"nav-icon fas fa-user"}),(0,c.jsx)("p",{children:"Customer"})]}))}),(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsxs)(l.OL,(0,s.Z)((0,s.Z)({to:"/bill",className:"nav-link"},n&&{"data-widget":"pushmenu"}),{},{children:[(0,c.jsx)(r.t9y,{className:"nav-icon"}),(0,c.jsx)("p",{children:"Generate Bill"})]}))})]})})})]})})}},4066:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(5545),a=n(2559);function i(){var e=(0,s.s0)();return(0,a.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[(0,a.jsx)("ul",{className:"navbar-nav",children:(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:(0,a.jsx)("i",{className:"fas fa-bars"})})})}),(0,a.jsxs)("ul",{className:"navbar-nav ml-auto",children:[(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)("a",{className:"nav-link","data-widget":"fullscreen",href:"#",role:"button",children:(0,a.jsx)("i",{className:"fas fa-expand-arrows-alt"})})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)("a",{className:"nav-link",onClick:function(){localStorage.clear(),e("../",{replace:!0}),e(0)},role:"button",children:(0,a.jsx)("i",{className:"fas fa-power-off"})})})]})]})}}}]);
//# sourceMappingURL=270.b0a33865.chunk.js.map