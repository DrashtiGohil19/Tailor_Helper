"use strict";(self.webpackChunktailor_desk=self.webpackChunktailor_desk||[]).push([[913],{1201:function(e,a,n){n.d(a,{Z:function(){return f}});var r=n(4942),t=n(1413),s=n(9439),l=n(9134),o=n(390),c=n(4926),i=n(8991),d=(n(3508),n(9914)),u=n(3948),m=n(5753),h=n(17),x=n(8067),j=n(2559);function f(e){var a=e.showModel,n=e.closeModal,f=e.isAddingWorker,b=(0,o.useState)({name:"",mobilenu:""}),Z=(0,s.Z)(b,2),v=Z[0],g=Z[1],k=(0,o.useState)({name:"",mobilenu:""}),N=(0,s.Z)(k,2),p=N[0],C=N[1],w=localStorage.getItem("userId"),y=function(e){g((0,t.Z)((0,t.Z)({},v),{},(0,r.Z)({},e.target.name,e.target.value))),C((0,t.Z)((0,t.Z)({},p),{},(0,r.Z)({},e.target.name,"")))};return(0,j.jsx)("div",{children:(0,j.jsxs)(i.Z,{show:a,centered:!0,children:[(0,j.jsx)(i.Z.Header,{children:(0,j.jsx)(i.Z.Title,{children:!0===f?"Add Worker":"Add Customer"})}),(0,j.jsx)(i.Z.Body,{children:(0,j.jsxs)(c.Z,{children:[(0,j.jsxs)(d.Z,{className:"mb-3",children:[(0,j.jsx)(u.Z,{lg:2,children:(0,j.jsx)(c.Z.Label,{children:"Name :"})}),(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(c.Z.Control,{type:"text",placeholder:"Enter name",autoFocus:!0,name:"name",className:"form-control ".concat(p.name?"is-invalid":""),value:v.name,onChange:y}),p.name&&(0,j.jsx)("div",{className:"text-danger",children:p.name})]})]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(u.Z,{lg:2,children:(0,j.jsx)(c.Z.Label,{children:"Mobile :"})}),(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(c.Z.Control,{type:"number",placeholder:"Enter mobile number",name:"mobilenu",className:"form-control ".concat(p.mobilenu?"is-invalid":""),value:v.mobilenu,onChange:y}),p.mobilenu&&(0,j.jsx)("div",{className:"text-danger",children:p.mobilenu})]})]})]})}),(0,j.jsxs)(i.Z.Footer,{children:[(0,j.jsx)(m.Z,{variant:"secondary",onClick:n,children:"Close"}),(0,j.jsx)(m.Z,{variant:"primary",onClick:function(e){if(e.preventDefault(),function(){var e=!0,a={};return""===v.name.trim()&&(a.name="Name is required",e=!1),""===v.mobilenu.trim()?(a.mobilenu="Mobile number is required",e=!1):/^\d{10}$/.test(v.mobilenu)||(a.mobilenu="Mobile number should be a 10-digit number",e=!1),C(a),e}()){var a=f?"/worker/addworker":"/customer/add_customer",r=f?{workername:v.name,mobilenu:v.mobilenu,userId:w}:{name:v.name,mobilenu:v.mobilenu,userId:w};l.Z.post(a,r,{headers:{Authorization:x.r}}).then((function(e){if("success"===e.data.status){n();var a=f?"Worker added successfully!":"Customer added successfully!";h.Am.success(a,{autoClose:4e3,style:{backgroundColor:"black",color:"white"}})}})).catch((function(e){n();var a=f?"Failed to add worker! Try with another mobile number.":"Failed to add customer! Try with another mobile number.";h.Am.error(a,{autoClose:5e3,style:{backgroundColor:"black",color:"white"}})}))}},children:"Save"})]})]})})}},5913:function(e,a,n){n.r(a),n.d(a,{default:function(){return C}});var r=n(4942),t=n(9439),s=n(390),l=n(9134),o=n(5545),c=n(5400),i=n(2395),d=n(4066),u=n(6303),m=n(1662),h=n(8464),x=n(749),j=n(4569),f=n(1211),b=n(1201),Z=n(4106),v=n(3948),g=n(5111),k=n(7721),N=n(8067),p=n(2559);function C(){var e=(0,s.useState)(),a=(0,t.Z)(e,2),n=a[0],C=a[1],w=(0,s.useState)(1),y=(0,t.Z)(w,2),S=y[0],_=y[1],I=(0,s.useState)(),A=(0,t.Z)(I,2),L=A[0],M=A[1],D=(0,s.useState)(""),E=(0,t.Z)(D,2),W=E[0],F=E[1],T=(0,s.useState)(!1),z=(0,t.Z)(T,2),B=z[0],R=z[1],H=(0,s.useState)(!1),O=(0,t.Z)(H,2),K=O[0],q=O[1],G=(0,s.useState)(null),U=(0,t.Z)(G,2),V=U[0],P=U[1],$=(0,s.useState)(!1),J=(0,t.Z)($,2),Q=J[0],X=J[1],Y=(0,s.useState)(!1),ee=(0,t.Z)(Y,2),ae=ee[0],ne=ee[1],re=(0,o.s0)(),te=function(){R(!0)},se=function(e){q(!0),n.map((function(a){a._id===e&&P(e)})),ie()},le=function(e){X(!0),n.map((function(a){a._id===e&&P(e)}))},oe=function(){ne(!0)};(0,s.useEffect)((function(){var e=localStorage.getItem("userId"),a=localStorage.getItem("isLoggedIn");null===e||null===a?(localStorage.clear(),re("/")):(""===W&&ie(),ce(),document.title="Simplex Tailor - Customer List")}),[S,W,re]),(0,s.useEffect)((function(){}),[]);var ce=function(){l.Z.get("/userdata?id="+N.xS).then((function(e){console.log(e.data.user.isLoggedIn),e.data.user.isLoggedIn||(localStorage.clear(),re("/"))}))},ie=function(){l.Z.get("/customer/view_customer?page_no=".concat(S,"&userId=").concat(N.xS),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){C(e.data.data),M(e.data.totalpage)}))};return(0,p.jsxs)("div",{children:[(0,p.jsx)(i.Z,{}),(0,p.jsx)(d.Z,{}),(0,p.jsxs)("div",{className:"content-wrapper",children:[(0,p.jsx)("section",{className:"content-header",children:(0,p.jsx)("div",{className:"container-fluid",children:(0,p.jsxs)("div",{className:"row mb-2",children:[(0,p.jsx)("div",{className:"col-sm-6",children:(0,p.jsx)("h1",{children:"Customer List"})}),(0,p.jsx)("div",{className:"col-sm-6",children:(0,p.jsxs)("ol",{className:"breadcrumb float-sm-right",children:[(0,p.jsx)("li",{className:"mr-3",children:(0,p.jsxs)("button",{className:"btn btn-primary",onClick:te,children:[(0,p.jsx)(h.jCV,{})," Add Customer"]})}),(0,p.jsx)("li",{className:"",children:(0,p.jsxs)("button",{className:"btn btn-primary",onClick:function(){return oe()},children:[(0,p.jsx)(x.t9y,{})," Rate"]})})]})})]})})}),(0,p.jsx)("section",{className:"content",children:(0,p.jsx)("div",{className:"container-fluid",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-12",children:(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"card-header",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)(v.Z,{xs:6,sm:4,children:(0,p.jsx)("input",{type:"number",className:"form-control",placeholder:"Search...",name:"search",value:W,onChange:function(e){return F(e.target.value)}})}),(0,p.jsx)(v.Z,{xs:6,sm:3,children:(0,p.jsxs)(k.Z,{title:"Search With",onSelect:function(e){if("mobileNumber"===e||"billNumber"===e){var a=(0,r.Z)((0,r.Z)({},e,W),"userId",N.xS);(0,l.Z)({method:"GET",url:"/customer/search_customer",params:a,headers:{Authorization:localStorage.getItem("token")}}).then((function(e){C(e.data.data)}))}},children:[(0,p.jsx)(g.Z.Item,{eventKey:"mobileNumber",children:"Mobile Number"}),(0,p.jsx)(g.Z.Item,{eventKey:"billNumber",children:"Bill Number"})]})})]})}),(0,p.jsxs)("div",{className:"card-body table-responsive",children:[(0,p.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Bill Nu."}),(0,p.jsx)("th",{children:"Name"}),(0,p.jsx)("th",{children:"Mobile Number"}),(0,p.jsx)("th",{children:"Measurement"}),(0,p.jsx)("th",{children:"History"}),(0,p.jsx)("th",{colSpan:2,children:"Action"})]})}),(0,p.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e,a){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:e.bill_nu}),(0,p.jsx)("td",{style:{textTransform:"capitalize"},children:e.customername}),(0,p.jsx)("td",{children:e.mobilenu}),(0,p.jsx)("td",{children:(0,p.jsx)(c.rU,{to:"/add_measurement/".concat(e._id),children:(0,p.jsx)(h.jCV,{style:{fontSize:"18px"}})})}),(0,p.jsx)("td",{children:(0,p.jsx)(c.rU,{to:"/customer_profile/".concat(e._id),children:(0,p.jsx)(x.ceS,{})})}),(0,p.jsx)("td",{onClick:function(){return le(e._id)},children:(0,p.jsx)("i",{className:"fas fa-edit"})}),(0,p.jsx)("td",{onClick:function(){return se(e._id)},children:(0,p.jsx)("i",{className:"fas fa-trash",style:{color:"red"}})})]},a)}))})]}),(0,p.jsx)(u.Z,{sx:{justifyContent:"center",alignItems:"center",marginTop:"20px"},children:(0,p.jsx)(m.Z,{count:L,color:"primary",page:S,onChange:function(e,a){return _(a)}})})]})]})})})})})]}),B&&(0,p.jsx)(b.Z,{showModel:te,closeModal:function(){R(!1),ie()},isAddingWorker:!1}),K&&(0,p.jsx)(j.Z,{showDelete:se,closeDelete:function(){q(!1),ie()},DelWorker:!1,selectedId:V}),Q&&(0,p.jsx)(f.Z,{showEdit:le,closeEdit:function(){X(!1),ie()},selectedId:V,WorketEdit:!1}),ae&&(0,p.jsx)(Z.Z,{rateModel:oe,closeModel:function(){ne(!1),ie()},isCustomerRate:!0})]})}},4569:function(e,a,n){n.d(a,{Z:function(){return c}});var r=n(9134),t=n(8991),s=n(5753),l=n(17),o=n(2559);function c(e){var a=e.showDelete,n=e.closeDelete,c=e.DelWorker,i=e.selectedId,d=c?"Are you sure you want to delete this worker? Deleting a worker will also delete other releted data of worker.":"Are you sure you want to delete this customer? Deleting a customer will also delete other associated data.";return(0,o.jsx)("div",{children:(0,o.jsxs)(t.Z,{show:a,backdrop:"static",keyboard:!1,children:[(0,o.jsx)(t.Z.Header,{children:(0,o.jsx)(t.Z.Title,{children:"Confirm Deletion"})}),(0,o.jsx)(t.Z.Body,{children:d}),(0,o.jsxs)(t.Z.Footer,{children:[(0,o.jsx)(s.Z,{variant:"danger",onClick:function(){var e=c?"/worker/delete_worker/".concat(i):"/customer/delete_customer/".concat(i);r.Z.delete(e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){l.Am.success("Data deleted succesfully !",{autoClose:5e3,style:{backgroundColor:"black",color:"white"}}),n()})).catch((function(e){l.Am.error("Failed to delete data !",{autoClose:5e3,style:{backgroundColor:"black",color:"white"}}),n()}))},children:"Delete"}),(0,o.jsx)(s.Z,{variant:"secondary",onClick:n,children:"Cancel"})]})]})})}},1211:function(e,a,n){n.d(a,{Z:function(){return j}});var r=n(4942),t=n(1413),s=n(9439),l=n(390),o=n(9134),c=n(8991),i=n(4926),d=n(9914),u=n(3948),m=n(5753),h=n(17),x=n(2559);function j(e){var a=e.showEdit,n=e.closeEdit,j=e.selectedId,f=e.WorkerEdit,b=(0,l.useState)({workername:"",customername:"",mobilenu:""}),Z=(0,s.Z)(b,2),v=Z[0],g=Z[1];(0,l.useEffect)((function(){!function(){var e=f?"/worker/single_worker/".concat(j):"/customer/single_customer/".concat(j);o.Z.get(e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){g(e.data.data)}))}()}),[j]);var k=function(e){g((0,t.Z)((0,t.Z)({},v),{},(0,r.Z)({},e.target.name,e.target.value)))};return(0,x.jsx)("div",{children:(0,x.jsxs)(c.Z,{centered:!0,show:a,children:[(0,x.jsx)(c.Z.Header,{children:(0,x.jsxs)(c.Z.Title,{children:["Edit ",f?"Worker":"Customer"]})}),(0,x.jsx)(c.Z.Body,{children:(0,x.jsxs)(i.Z,{children:[(0,x.jsxs)(d.Z,{className:"mb-3",children:[(0,x.jsx)(u.Z,{lg:2,children:(0,x.jsx)(i.Z.Label,{children:"Name :"})}),(0,x.jsx)(u.Z,{children:(0,x.jsx)(i.Z.Control,{type:"text",name:f?"workername":"customername",value:v.workername?v.workername:v.customername,onChange:k})})]}),(0,x.jsxs)(d.Z,{children:[(0,x.jsx)(u.Z,{lg:2,children:(0,x.jsx)(i.Z.Label,{children:"Mobile :"})}),(0,x.jsx)(u.Z,{children:(0,x.jsx)(i.Z.Control,{type:"number",name:"mobile",value:v.mobilenu,onChange:k})})]})]})}),(0,x.jsxs)(c.Z.Footer,{children:[(0,x.jsx)(m.Z,{variant:"secondary",onClick:n,children:"Close"}),(0,x.jsx)(m.Z,{variant:"primary",onClick:function(e){e.preventDefault();var a=f?"/worker/update_worker/".concat(j):"/customer/update_customer/".concat(j),r=f?{workername:v.workername,mobilenu:v.mobilenu}:{customername:v.customername,mobilenu:v.mobilenu};o.Z.put(a,r,{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if("success"===e.data.status){n();var a=f?"Worker edited successfully!":"Customer edited successfully!";h.Am.success(a,{autoClose:4e3,style:{backgroundColor:"black",color:"white"}})}})).catch((function(e){n();var a=f?"Failed to edit worker!":"Failed to edit customer!";h.Am.error(a,{autoClose:4e3,style:{backgroundColor:"black",color:"white"}})}))},children:"Save"})]})]})})}},8067:function(e,a,n){n.d(a,{As:function(){return s},r:function(){return t},xS:function(){return r}});var r=localStorage.getItem("userId"),t=localStorage.getItem("token"),s=localStorage.getItem("shopName")},4106:function(e,a,n){n.d(a,{Z:function(){return f}});var r=n(4942),t=n(1413),s=n(9439),l=n(390),o=n(9134),c=n(8991),i=n(9914),d=n(3948),u=n(5753),m=n(4926),h=n(17),x=n(8067),j=n(2559);function f(e){var a=e.rateModel,n=e.closeModel,f=e.isCustomerRate,b=(0,l.useState)({shirt_rate:"",pent_rate:"",kurta_rate:""}),Z=(0,s.Z)(b,2),v=Z[0],g=Z[1],k=function(e){g((0,t.Z)((0,t.Z)({},v),{},(0,r.Z)({},e.target.name,e.target.value)))},N=f?"/customer/ratecustomer":"/worker/rate_worker";return(0,l.useEffect)((function(){o.Z.get(N+"?userId="+x.xS).then((function(e){console.log(e.data),null!==e.data.result&&g(e.data.result)})).catch((function(e){}))}),[]),(0,j.jsx)("div",{children:(0,j.jsxs)(c.Z,{show:a,centered:!0,children:[(0,j.jsx)(c.Z.Header,{children:(0,j.jsx)(c.Z.Title,{})}),(0,j.jsx)(c.Z.Body,{children:(0,j.jsxs)(m.Z,{children:[(0,j.jsxs)(i.Z,{className:"mb-3",children:[(0,j.jsx)(d.Z,{lg:3,children:(0,j.jsx)(m.Z.Label,{children:"Shirt Rate :"})}),(0,j.jsx)(d.Z,{children:(0,j.jsx)(m.Z.Control,{type:"text",name:"shirt_rate",value:v.shirt_rate,onChange:k})})]}),(0,j.jsxs)(i.Z,{className:"mb-3",children:[(0,j.jsx)(d.Z,{lg:3,children:(0,j.jsx)(m.Z.Label,{children:"Pent Rate :"})}),(0,j.jsx)(d.Z,{children:(0,j.jsx)(m.Z.Control,{type:"number",name:"pent_rate",value:v.pent_rate,onChange:k})})]}),(0,j.jsxs)(i.Z,{children:[(0,j.jsx)(d.Z,{lg:3,children:(0,j.jsx)(m.Z.Label,{children:"Kurta Rate :"})}),(0,j.jsx)(d.Z,{children:(0,j.jsx)(m.Z.Control,{type:"number",name:"kurta_rate",value:v.kurta_rate,onChange:k})})]})]})}),(0,j.jsxs)(c.Z.Footer,{children:[(0,j.jsx)(u.Z,{variant:"secondary",onClick:n,children:"Close"}),(0,j.jsx)(u.Z,{variant:"primary",onClick:function(){o.Z.post(N,{shirt_rate:v.shirt_rate,pent_rate:v.pent_rate,kurta_rate:v.kurta_rate,userId:x.xS}).then((function(e){g(e.data),console.log(e.data),n(),h.Am.success("Rate Saved Succesfully !",{autoClose:4e3,style:{backgroundColor:"black",color:"white"}})})).catch((function(e){h.Am.error("Failed to saved rate !",{autoClose:4e3,style:{backgroundColor:"black",color:"white"}})}))},children:"Save"})]})]})})}},2395:function(e,a,n){n.d(a,{Z:function(){return o}});var r=n(5400),t=n(749),s=n(8067),l=n(2559);function o(){return(0,l.jsx)("div",{className:"wrapper",children:(0,l.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[(0,l.jsxs)(r.OL,{className:"brand-link",activeclassname:"active-link",children:[(0,l.jsx)("img",{src:"/images/cap.png",className:"brand-image img-circle",style:{opacity:".8"}}),(0,l.jsx)("span",{className:"brand-text font-weight-light text-uppercase",children:(0,l.jsx)("b",{children:s.As})}),(0,l.jsx)("i",{"data-widget":"pushmenu",className:"d-lg-none ml-2",children:(0,l.jsx)(t.dL9,{})})]}),(0,l.jsx)("div",{className:"sidebar",children:(0,l.jsx)("nav",{className:"mt-3",children:(0,l.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)(r.OL,{to:"/dashboard",className:"nav-link",children:[(0,l.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),(0,l.jsx)("p",{children:"Dashboard"})]})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)(r.OL,{to:"/allworker",className:"nav-link",children:[(0,l.jsx)("i",{className:"nav-icon fas fa-th"}),(0,l.jsx)("p",{children:"Worker"})]})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)(r.OL,{to:"/customer_list",className:"nav-link",children:[(0,l.jsx)("i",{className:"nav-icon fas fa-user"}),(0,l.jsx)("p",{children:"Customer"})]})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)(r.OL,{to:"/bill",className:"nav-link",children:[(0,l.jsx)(t.t9y,{className:"nav-icon"}),(0,l.jsx)("p",{children:"Generate Bill"})]})})]})})})]})})}},4066:function(e,a,n){n.d(a,{Z:function(){return s}});var r=n(5545),t=n(2559);function s(){var e=(0,r.s0)();return(0,t.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[(0,t.jsx)("ul",{className:"navbar-nav",children:(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:(0,t.jsx)("i",{className:"fas fa-bars"})})})}),(0,t.jsxs)("ul",{className:"navbar-nav ml-auto",children:[(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)("a",{className:"nav-link","data-widget":"fullscreen",href:"#",role:"button",children:(0,t.jsx)("i",{className:"fas fa-expand-arrows-alt"})})}),(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)("a",{className:"nav-link",onClick:function(){localStorage.removeItem("token"),e("/")},role:"button",children:(0,t.jsx)("i",{className:"fas fa-power-off"})})})]})]})}}}]);
//# sourceMappingURL=913.ce1a61cc.chunk.js.map