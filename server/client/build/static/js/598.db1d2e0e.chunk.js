"use strict";(self.webpackChunktailor_desk=self.webpackChunktailor_desk||[]).push([[598],{5598:function(e,a,s){s.r(a),s.d(a,{default:function(){return v}});var t=s(4942),l=s(1413),r=s(4165),i=s(5861),n=s(9439),c=s(390),d=s(2395),m=s(4066),o=s(9134),h=s(17),x=s(2559),j=c.forwardRef((function(e,a){var s=e.data,t=e.pentData,l=e.shirtData,r=e.kurtaData,i=e.customerData,n=0,d=l.shirt_qty>0,m=t.pent_qty>0,o=r.kurta_qty>0;return(0,c.useEffect)((function(){var e=document.querySelectorAll(".item-row"),a=e[e.length-1];a&&(a.style.height="150px")}),[]),(0,x.jsx)("div",{ref:a,children:(0,x.jsx)("section",{className:"content mt-3",children:(0,x.jsx)("div",{className:"container-fluid pb-5",children:(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"card card-primary",children:(0,x.jsxs)("div",{className:"card-body table-responsive border border-dark",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsx)("div",{className:"text-right",children:(0,x.jsx)("h6",{children:"|| \u0ab6\u0acd\u0ab0\u0ac0 \u0ae7 ||"})})}),(0,x.jsxs)("div",{className:"col-sm-6 text-right",children:[(0,x.jsx)("p",{className:"mb-0",children:"Vijaybhai : 94268 79057"}),(0,x.jsx)("p",{children:"Rajanibhai : 88661 28000"})]})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-3 text-center",children:(0,x.jsx)("img",{src:"images/cap.png",alt:"Logo image",height:"85px"})}),(0,x.jsx)("div",{className:"col-sm-9 mb-1",children:(0,x.jsx)("img",{src:"images/logo.jpg",alt:"logo",width:"250px",height:"100px"})}),(0,x.jsx)("div",{className:"m-auto",children:(0,x.jsx)("p",{children:"Shop No. 4, First Floor, Mira Complex Near Virat Nagar, Kapodra, Surat"})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-7",children:(0,x.jsx)("table",{children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Name :"}),(0,x.jsx)("td",{style:{textTransform:"capitalize"},children:i.customername})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Mobile :"}),(0,x.jsx)("td",{children:i.mobilenu})]})]})})}),(0,x.jsx)("div",{className:"col-sm-5",children:(0,x.jsx)("table",{children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Bill No :"}),(0,x.jsx)("td",{children:i.bill_nu})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"Date :"}),(0,x.jsx)("td",{children:new Date(i.bill_date).toLocaleDateString("en-GB")})]})]})})})]}),(0,x.jsxs)("table",{className:"table table-bordered text-center responsive border mt-1",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"p-1",children:"No."}),(0,x.jsx)("th",{className:"w-50 p-1",children:"Item Name"}),(0,x.jsx)("th",{className:"p-1",children:"Qty"}),(0,x.jsx)("th",{className:"p-1",children:"Rate"}),(0,x.jsx)("th",{className:"p-1",children:"Amount"})]})}),(0,x.jsxs)("tbody",{children:[d&&(0,x.jsxs)("tr",{className:"item-row",children:[(0,x.jsx)("td",{className:"p-1",children:++n}),(0,x.jsx)("td",{className:"p-1",children:"shirt"}),(0,x.jsx)("td",{className:"p-1",children:l.shirt_qty}),(0,x.jsx)("td",{className:"p-1",children:l.shirt_rate}),(0,x.jsx)("td",{className:"p-1",children:l.shirt_amt})]}),m&&(0,x.jsxs)("tr",{className:"mb-6 item-row",children:[(0,x.jsx)("td",{className:"p-0",children:++n}),(0,x.jsx)("td",{className:"p-0",children:"Pent"}),(0,x.jsx)("td",{className:"p-0",children:t.pent_qty}),(0,x.jsx)("td",{className:"p-0",children:t.pent_rate}),(0,x.jsx)("td",{className:"p-0",children:t.pent_amt})]}),o&&(0,x.jsxs)("tr",{className:"mb-6 item-row",children:[(0,x.jsx)("td",{className:"p-0",children:++n}),(0,x.jsx)("td",{className:"p-0",children:"Kurta"}),(0,x.jsx)("td",{className:"p-0",children:r.kurta_qty}),(0,x.jsx)("td",{className:"p-0",children:r.kurta_rate}),(0,x.jsx)("td",{className:"p-0",children:r.kurta_amt})]}),(0,x.jsxs)("tr",{className:"border-top-none",children:[(0,x.jsx)("th",{colSpan:2,className:"p-1",children:"Total "}),(0,x.jsx)("td",{className:"p-1",children:(m?t.pent_qty:0)+(d?l.shirt_qty:0)+(o?r.kurta_qty:0)}),(0,x.jsx)("td",{className:"p-1"}),(0,x.jsx)("td",{className:"p-1",children:s.total_amt})]})]})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-sm-7 mt-3",children:[(0,x.jsx)("p",{style:{fontSize:"13px"},className:"mb-1",children:"1. \u0a95\u0aaa\u0aa1\u0abe\u0a82 \u0ab2\u0ac7\u0ab5\u0abe \u0a86\u0ab5\u0acb \u0aa4\u0acd\u0aaf\u0abe\u0ab0\u0ac7 \u0aac\u0abf\u0ab2 \u0a85\u0ab5\u0ab6\u0acd\u0aaf \u0ab2\u0abe\u0ab5\u0ab5\u0ac1\u0a82."}),(0,x.jsx)("p",{style:{fontSize:"13px"},className:"mb-1",children:"2. \u0ab8\u0a82\u0a9c\u0acb\u0a97\u0acb \u0ab5\u0ab8\u0abe\u0aa4 \u0a95\u0aaa\u0aa1\u0abe \u0aa8\u0ac0 \u0aa1\u0abf\u0ab2\u0abf\u0ab5\u0ab0\u0ac0 \u0aae\u0abe\u0a82 \u0aab\u0ac7\u0ab0\u0aab\u0abe\u0ab0 \u0aa5\u0a88 \u0ab6\u0a95\u0ac7 \u0a9b\u0ac7."}),(0,x.jsx)("p",{style:{fontSize:"13px"},className:"mb-1",children:"3. \u0a95\u0abe\u0aaa\u0aa1 \u0aae\u0abe\u0a82 \u0a95\u0acb\u0a88 \u0aa8\u0ac1\u0a95\u0ab8\u0abe\u0aa8\u0ac0 \u0ab9\u0ab6\u0ac7 \u0aa4\u0acb \u0aa4\u0ac7\u0aa8\u0abe \u0aae\u0abe\u0a9f\u0ac7 \u0a85\u0aae\u0ac7 \u0a9c\u0ab5\u0abe\u0aac\u0aa6\u0abe\u0ab0 \u0ab0\u0ab9\u0ac7\u0ab6\u0ac1 \u0aa8\u0ab9\u0ac0\u0a82."})]}),(0,x.jsx)("div",{className:"col-sm-5",children:(0,x.jsx)("table",{className:"table",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"p-1",children:"Paid Amt :"}),(0,x.jsx)("td",{className:"p-1",children:s.paid_amt})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"p-1",children:"Total Due Amt :"}),(0,x.jsx)("td",{className:"p-1",children:s.final_amt})]})]})})})]})]})})})})})})})})),u=s(7735),p=s.n(u),N=s(4926);var v=function(){var e=(0,c.useState)({}),a=(0,n.Z)(e,2),s=a[0],u=a[1],v=(0,c.useState)(""),b=(0,n.Z)(v,2),_=b[0],f=b[1],y=(0,c.useState)({customername:"",bill_nu:"",bill_date:"",shirt_qty:0,pent_qty:0,kurta_qty:0,paid_amt:0,booking_date:"",delivery_date:""}),g=(0,n.Z)(y,2),k=g[0],q=g[1],w=(0,c.useState)(0),S=(0,n.Z)(w,2),D=S[0],Z=S[1],C=(0,c.useState)(0),A=(0,n.Z)(C,2),I=A[0],B=A[1],L=(0,c.useState)(0),O=(0,n.Z)(L,2),E=O[0],P=O[1],T=(0,c.useState)(),z=(0,n.Z)(T,2),M=z[0],R=z[1],F=(0,c.useState)({}),G=(0,n.Z)(F,2),V=G[0],K=G[1],Q=localStorage.getItem("token"),W=(0,c.useRef)(null),X=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/bill/bill_data?mobilenu=".concat(_),{headers:{Authorization:Q}}).then((function(e){null!==e.data.data&&(q(e.data.data),R(e.data.data._id))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=D+I+E,H=k.paid_amt?$-k.paid_amt:$,J={customername:k.customername,mobilenu:_,bill_nu:k.bill_nu,bill_date:k.bill_date},U={shirt_qty:parseInt(k.shirt_qty)||0,shirt_amt:D||0,shirt_rate:s.shirt_rate},Y={pent_qty:parseInt(k.pent_qty)||0,pent_amt:I||0,pent_rate:s.pent_rate},ee={kurta_qty:parseInt(k.kurta_qty)||0,kurta_amt:E||0,kurta_rate:s.kurta_rate},ae={total_amt:$,paid_amt:k.paid_amt||0,final_amt:H};(0,c.useEffect)((function(){o.Z.get("/customer/ratecustomer").then((function(e){u(e.data)})).catch((function(e){})),X(),document.title="Simplex Tailor - Bill Page"}),[_,M]);var se=function(e){var a=e.target,r=a.name,i=a.value;q((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,t.Z)({},r,i))})),"shirt_qty"===r?Z(parseInt(i)*s.shirt_rate):"pent_qty"===r?B(parseInt(i)*s.pent_rate):"kurta_qty"===r&&P(parseInt(i)*s.kurta_rate)};return(0,x.jsxs)("div",{children:[(0,x.jsx)(d.Z,{}),(0,x.jsx)(m.Z,{}),(0,x.jsxs)("div",{className:"content-wrapper",children:[(0,x.jsx)("section",{className:"content-header",children:(0,x.jsx)("div",{className:"container-fluid",children:(0,x.jsx)("div",{className:"row mb-2",children:(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsx)("h1",{children:"Generate Bill"})})})})}),(0,x.jsx)(N.Z,{onSubmit:function(e){e.preventDefault(),function(){var e=!0,a={};return""===_.trim()?(a.mobilenu="Mobile number is required",e=!1):/^\d{10}$/.test(_)?""!==_.trim()&&(a.mobilenu=""):(a.mobilenu="Mobile number should be a 10-digit number",e=!1),k.booking_date||(a.booking_date="Booking date is required",e=!1),new Date(k.delivery_date)<=new Date(k.booking_date)?(a.delivery_date="Delivery date must be after booking date",e=!1):k.delivery_date||(a.delivery_date="Delivery date is required",e=!1),k.bill_date||(a.bill_date="Bill date is required",e=!1),0===k.shirt_qty&&0===k.pent_qty&&0===k.kurta_qty&&(a.qty="At least one quantity is required",e=!1),K(a),e}()&&o.Z.post("/bill/add_bill",{customer_id:M,bill_date:k.bill_date,booking_date:k.booking_date,delivery_date:k.delivery_date,shirt_qty:k.shirt_qty||0,pent_qty:k.pent_qty||0,kurta_qty:k.kurta_qty||0,shirt_amt:D||0,pent_amt:I||0,kurta_amt:E||0,total_amt:$,paid_amt:k.paid_amt||0,final_amt:H},{headers:{Authorization:Q}}).then((function(e){"success"===e.data.status&&h.Am.success("Saved Succesfully !",{autoClose:4e3,style:{backgroundColor:"black",color:"white"}})})).catch((function(e){h.Am.error("Failed to save !",{autoClose:4e3,style:{backgroundColor:"black",color:"white"}})}))},children:(0,x.jsx)("section",{className:"content measurement",children:(0,x.jsxs)("div",{className:"container-fluid pb-2",children:[(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsx)("div",{className:"card",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Name"}),(0,x.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:k.customername,onChange:se})]})}),(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Mobile Number"}),(0,x.jsx)("input",{type:"number",className:"form-control ".concat(V.mobilenu?"is-invalid":""),placeholder:"Enter ...",name:"mobilenu",value:_,onChange:function(e){return f(e.target.value)}}),V.mobilenu&&(0,x.jsx)("p",{className:"invalid-feedback",children:V.mobilenu})]})}),(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Bill No"}),(0,x.jsx)("input",{type:"number",className:"form-control",readOnly:!0,value:k.bill_nu,onChange:se})]})})]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Booking Date"}),(0,x.jsx)("input",{type:"date",className:"form-control ".concat(V.booking_date?"is-invalid":""),placeholder:"Enter ...",name:"booking_date",value:k.booking_date,onChange:se}),V.booking_date&&(0,x.jsx)("p",{className:"invalid-feedback",children:V.booking_date})]})}),(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Delivery Date"}),(0,x.jsx)("input",{type:"date",className:"form-control ".concat(V.delivery_date?"is-invalid":""),placeholder:"Enter ...",name:"delivery_date",value:k.delivery_date,onChange:se}),V.delivery_date&&(0,x.jsx)("div",{className:"invalid-feedback",children:V.delivery_date})]})}),(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Bill Date"}),(0,x.jsx)("input",{type:"date",className:"form-control ".concat(V.bill_date?"is-invalid":""),placeholder:"Enter ...",name:"bill_date",value:k.bill_date,onChange:se}),V.bill_date&&(0,x.jsx)("div",{className:"invalid-feedback",children:V.bill_date})]})})]})]})})})}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card card-primary",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h3",{className:"card-title",children:"Bill Details"})}),(0,x.jsx)("div",{className:"card-body table-responsive",children:(0,x.jsxs)("table",{id:"example2",className:"table table-bordered table-hover text-center responsive",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"No."}),(0,x.jsx)("th",{className:"w-50",children:"Item Name"}),(0,x.jsx)("th",{className:"w-25",children:"Quantity"}),(0,x.jsx)("th",{children:"Rate"}),(0,x.jsx)("th",{children:"Amount"})]})}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"1"}),(0,x.jsx)("td",{children:"Shirt"}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("input",{type:"text",className:"w-50 form-control form-control-sm text-center",name:"shirt_qty",value:k.shirt_qty,onChange:se})})}),(0,x.jsx)("td",{children:s.shirt_rate}),(0,x.jsx)("td",{children:D||0})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"2"}),(0,x.jsx)("td",{children:"Pent"}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("input",{type:"text",className:"form-control w-50 form-control-sm text-center",name:"pent_qty",value:k.pent_qty,onChange:se})})}),(0,x.jsx)("td",{children:s.pent_rate}),(0,x.jsx)("td",{children:I||0})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:"3"}),(0,x.jsx)("td",{children:"Kurta"}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"d-flex justify-content-center",children:(0,x.jsx)("input",{type:"text",className:"w-50 form-control form-control-sm text-center",name:"kurta_qty",value:k.kurta_qty,onChange:se})})}),(0,x.jsx)("td",{children:s.kurta_rate}),(0,x.jsx)("td",{children:E||0})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{colSpan:4,children:"Total Amount"}),(0,x.jsx)("td",{children:$||0})]}),(0,x.jsx)("tr",{})]})]})})]})})}),(0,x.jsx)("div",{className:"card",children:(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Total Amount"}),(0,x.jsx)("input",{type:"text",className:"form-control",defaultValue:$||0})]})}),(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Paid Amount"}),(0,x.jsx)("input",{type:"number",className:"form-control",name:"paid_amt",value:k.paid_amt,onChange:se})]})}),(0,x.jsx)("div",{className:"col-sm-4",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{children:"Final Amount"}),(0,x.jsx)("input",{type:"text",className:"form-control",defaultValue:H||0})]})})]})})}),(0,x.jsxs)("div",{className:"m-2",children:[(0,x.jsx)("button",{className:"btn btn-primary mr-3",type:"submit",children:"Save"}),(0,x.jsx)(p(),{trigger:function(){return(0,x.jsx)("button",{className:"btn btn-primary",children:"Get Print"})},content:function(){return W.current}})]})]})})})]}),(0,x.jsx)("div",{style:{display:"none"},children:(0,x.jsx)("div",{ref:W,children:(0,x.jsx)(j,{data:ae,shirtData:U,pentData:Y,kurtaData:ee,customerData:J})})})]})}},2395:function(e,a,s){s.d(a,{Z:function(){return i}});var t=s(5400),l=s(749),r=s(2559);function i(){return(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[(0,r.jsxs)(t.OL,{className:"brand-link",activeclassname:"active-link",children:[(0,r.jsx)("img",{src:"/images/cap.png",className:"brand-image img-circle",style:{opacity:".8"}}),(0,r.jsx)("span",{className:"brand-text font-weight-light",children:(0,r.jsx)("b",{children:"SIMPLEX TAILOR"})}),(0,r.jsx)("i",{"data-widget":"pushmenu",className:"d-lg-none ml-2",children:(0,r.jsx)(l.dL9,{})})]}),(0,r.jsx)("div",{className:"sidebar",children:(0,r.jsx)("nav",{className:"mt-3",children:(0,r.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)(t.OL,{to:"/dashboard",className:"nav-link",children:[(0,r.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),(0,r.jsx)("p",{children:"Dashboard"})]})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)(t.OL,{to:"/allworker",className:"nav-link",children:[(0,r.jsx)("i",{className:"nav-icon fas fa-th"}),(0,r.jsx)("p",{children:"Worker"})]})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)(t.OL,{to:"/customer_list",className:"nav-link",children:[(0,r.jsx)("i",{className:"nav-icon fas fa-user"}),(0,r.jsx)("p",{children:"Customer"})]})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)(t.OL,{to:"/bill",className:"nav-link",children:[(0,r.jsx)(l.t9y,{className:"nav-icon"}),(0,r.jsx)("p",{children:"Generate Bill"})]})})]})})})]})})}},4066:function(e,a,s){s.d(a,{Z:function(){return r}});var t=s(5545),l=s(2559);function r(){var e=(0,t.s0)();return(0,l.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[(0,l.jsx)("ul",{className:"navbar-nav",children:(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:(0,l.jsx)("i",{className:"fas fa-bars"})})})}),(0,l.jsxs)("ul",{className:"navbar-nav ml-auto",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("a",{className:"nav-link","data-widget":"fullscreen",href:"#",role:"button",children:(0,l.jsx)("i",{className:"fas fa-expand-arrows-alt"})})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("a",{className:"nav-link",onClick:function(){localStorage.removeItem("token"),e("/")},role:"button",children:(0,l.jsx)("i",{className:"fas fa-power-off"})})})]})]})}}}]);
//# sourceMappingURL=598.db1d2e0e.chunk.js.map