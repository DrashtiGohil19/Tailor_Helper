"use strict";(self.webpackChunktailor_desk=self.webpackChunktailor_desk||[]).push([[270],{2270:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var n=a(9439),s=a(2395),l=a(4066),i=a(390),r=a(3020),d=a(6012),c=a(8535),o=a(1539),h=(a(3508),a(9134)),x=a(17),u=a(8067),j=a(5545),v=a(2559);function m(){var e=(0,i.useState)(),t=(0,n.Z)(e,2),a=t[0],m=t[1],N=(0,i.useState)(),b=(0,n.Z)(N,2),f=b[0],p=b[1],g=(0,i.useState)(),y=(0,n.Z)(g,2),_=y[0],D=y[1],k=(0,i.useState)(),S=(0,n.Z)(k,2),w=S[0],L=S[1],B=(0,j.s0)(),Z=localStorage.getItem("token"),q=function(){h.Z.get("/bill/order?userId="+u.xS,{headers:{Authorization:Z}}).then((function(e){m(e.data.pendingData),p(e.data.completedData),D(e.data.deliveryData)}))},I=function(){h.Z.get("/bill/delivery_alert?userId="+u.xS,{headers:{Authorization:Z}}).then((function(e){L(e.data.deliveryData)}))};(0,i.useEffect)((function(){var e=localStorage.getItem("userId"),t=localStorage.getItem("isLoggedIn");null===e||null===t?(localStorage.clear(),B("/")):(q(),I(),h.Z.get("/userdata?id="+u.xS).then((function(e){e.data.user.isLoggedIn||(localStorage.clear(),B("/"))})),document.title="Simplex Tailor - Dashboard")}),[B]);var C=function(e,t){var a=e.target.value,n="";"1"===a?n="Order marked as completed!":"2"===a&&(n="Order marked as delivered!"),h.Z.put("/bill/update_status/".concat(t),{status:a},{headers:{Authorization:Z}}).then((function(e){"success"===e.data.status&&(m((function(e){return e.filter((function(e){return e._id!==t}))})),I(),q(),x.Am.success(n,{autoClose:4e3,style:{backgroundColor:"black",color:"white"}}))}))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{}),(0,v.jsx)(l.Z,{}),(0,v.jsxs)("div",{className:"content-wrapper",children:[(0,v.jsx)("section",{className:"content-header",children:(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsx)("div",{className:"row mb-2",children:(0,v.jsx)("div",{className:"col-sm-6",children:(0,v.jsx)("h1",{children:"Dashboard"})})})})}),(0,v.jsx)("section",{className:"content",children:(0,v.jsxs)(d.Z,{defaultActiveKey:"delivery alert",transition:!0,className:"mb-3",children:[(0,v.jsx)(r.Z,{eventKey:"delivery alert",title:"Delivery Alert",children:(0,v.jsx)("section",{className:"content",children:(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body table-responsive",children:(0,v.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Alert"}),(0,v.jsx)("th",{children:"Name"}),(0,v.jsx)("th",{children:"Bill Nu."}),(0,v.jsx)("th",{children:"Boking Date"}),(0,v.jsx)("th",{children:"Delivery Date"}),(0,v.jsx)("th",{children:"Shirt"}),(0,v.jsx)("th",{children:"Pent"}),(0,v.jsx)("th",{children:"Kurta"}),(0,v.jsx)("th",{children:"Total"}),(0,v.jsx)("th",{children:"Status"})]})}),(0,v.jsx)("tbody",{children:null===w||void 0===w?void 0:w.map((function(e,t){var a,n,s,l=(new Date).toLocaleDateString("en-GB"),i=new Date(e.delivery_date).toLocaleDateString("en-GB")<l,r=((null===(a=e.shirt)||void 0===a?void 0:a.shirt_qty)||0)+((null===(n=e.pent)||void 0===n?void 0:n.pent_qty)||0)+((null===(s=e.kurta)||void 0===s?void 0:s.kurta_qty)||0);return(0,v.jsxs)("tr",{style:{color:i?"#d00000":"",fontWeight:i?"500":""},children:[i?(0,v.jsx)("td",{style:{color:"#dd1c1a",fontSize:20,padding:5},children:(0,v.jsx)(c.Uh1,{})}):(0,v.jsx)("td",{}),(0,v.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,v.jsx)("td",{children:e.customer_id.bill_nu}),(0,v.jsx)("td",{children:new Date(e.booking_date).toLocaleDateString("en-GB")}),(0,v.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,v.jsx)("td",{children:e.shirt_qty}),(0,v.jsx)("td",{children:e.pent_qty}),(0,v.jsx)("td",{children:e.kurta_qty}),(0,v.jsx)("td",{children:r}),(0,v.jsx)("td",{style:{color:0===e.status?"#ff8800":1===e.status?"green":"",fontSize:20,padding:5},children:0===e.status?(0,v.jsx)(c.Uh1,{}):(0,v.jsx)(o.nrL,{})})]},t)}))})]})})})})})}),(0,v.jsx)(r.Z,{eventKey:"pending order",title:"Pending Order",children:(0,v.jsx)("section",{className:"content",children:(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body table-responsive",children:(0,v.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Name"}),(0,v.jsx)("th",{children:"Bill Nu."}),(0,v.jsx)("th",{children:"Boking Date"}),(0,v.jsx)("th",{children:"Delivery Date"}),(0,v.jsx)("th",{children:"Quentity"}),(0,v.jsx)("th",{children:"Status"})]})}),(0,v.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e,t){var a,n,s,l=((null===(a=e.shirt)||void 0===a?void 0:a.shirt_qty)||0)+((null===(n=e.pent)||void 0===n?void 0:n.pent_qty)||0)+((null===(s=e.kurta)||void 0===s?void 0:s.kurta_qty)||0);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,v.jsx)("td",{children:e.customer_id.bill_nu}),(0,v.jsx)("td",{children:new Date(e.booking_date).toLocaleDateString("en-GB")}),(0,v.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,v.jsx)("td",{children:l}),(0,v.jsx)("td",{children:(0,v.jsxs)("select",{onChange:function(t){return C(t,e._id)},children:[(0,v.jsx)("option",{value:0,children:"Pending"}),(0,v.jsx)("option",{value:1,children:"Complete"}),(0,v.jsx)("option",{value:2,children:"Deliver"})]})})]},t)}))})]})})})})})}),(0,v.jsx)(r.Z,{eventKey:"completed order",title:"Completed Order",children:(0,v.jsx)("section",{className:"content",children:(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body table-responsive",children:(0,v.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Name"}),(0,v.jsx)("th",{children:"Bill Nu."}),(0,v.jsx)("th",{children:"Boking Date"}),(0,v.jsx)("th",{children:"Delivery Date"}),(0,v.jsx)("th",{children:"Quentity"}),(0,v.jsx)("th",{children:"Status"})]})}),(0,v.jsx)("tbody",{children:null===f||void 0===f?void 0:f.map((function(e,t){var a,n,s,l=((null===(a=e.shirt)||void 0===a?void 0:a.shirt_qty)||0)+((null===(n=e.pent)||void 0===n?void 0:n.pent_qty)||0)+((null===(s=e.kurta)||void 0===s?void 0:s.kurta_qty)||0);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,v.jsx)("td",{children:e.customer_id.bill_nu}),(0,v.jsx)("td",{children:new Date(e.booking_date).toLocaleDateString("en-GB")}),(0,v.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,v.jsx)("td",{children:l}),(0,v.jsx)("td",{children:(0,v.jsxs)("select",{onChange:function(t){return C(t,e._id)},children:[(0,v.jsx)("option",{value:1,children:"Complete"}),(0,v.jsx)("option",{value:2,children:"Deliver"})]})})]},t)}))})]})})})})})})})}),(0,v.jsx)(r.Z,{eventKey:"delivered order",title:"Delivered Order",children:(0,v.jsx)("section",{className:"content",children:(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-12",children:(0,v.jsx)("div",{className:"card",children:(0,v.jsx)("div",{className:"card-body table-responsive",children:(0,v.jsxs)("table",{className:"table table-bordered table-hover text-center responsive",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Name"}),(0,v.jsx)("th",{children:"Bill Nu."}),(0,v.jsx)("th",{children:"Delivery Date"}),(0,v.jsx)("th",{children:"Updated Delivery"}),(0,v.jsx)("th",{children:"Quentity"}),(0,v.jsx)("th",{children:"Status"})]})}),(0,v.jsx)("tbody",{children:null===_||void 0===_?void 0:_.map((function(e,t){var a,n,s,l=((null===(a=e.shirt)||void 0===a?void 0:a.shirt_qty)||0)+((null===(n=e.pent)||void 0===n?void 0:n.pent_qty)||0)+((null===(s=e.kurta)||void 0===s?void 0:s.kurta_qty)||0);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{style:{textTransform:"capitalize"},children:e.customer_id.customername}),(0,v.jsx)("td",{children:e.customer_id.bill_nu}),(0,v.jsx)("td",{children:new Date(e.delivery_date).toLocaleDateString("en-GB")}),(0,v.jsx)("td",{children:e.actual_delivery_date?new Date(e.actual_delivery_date).toLocaleDateString("en-GB"):"-"}),(0,v.jsx)("td",{children:l}),(0,v.jsx)("td",{style:{padding:7},children:(0,v.jsx)(o.nrL,{style:{color:"green",fontSize:20}})})]},t)}))})]})})})})})})})})]})})]})]})}},8067:function(e,t,a){a.d(t,{As:function(){return l},r:function(){return s},xS:function(){return n}});var n=localStorage.getItem("userId"),s=localStorage.getItem("token"),l=localStorage.getItem("shopName")},2395:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(5400),s=a(749),l=a(8067),i=a(2559);function r(){return(0,i.jsx)("div",{className:"wrapper",children:(0,i.jsxs)("aside",{className:"main-sidebar sidebar-dark-primary elevation-4",children:[(0,i.jsxs)(n.OL,{className:"brand-link",activeclassname:"active-link",children:[(0,i.jsx)("img",{src:"/images/cap.png",className:"brand-image img-circle",style:{opacity:".8"}}),(0,i.jsx)("span",{className:"brand-text font-weight-light text-uppercase",children:(0,i.jsx)("b",{children:l.As})}),(0,i.jsx)("i",{"data-widget":"pushmenu",className:"d-lg-none ml-2",children:(0,i.jsx)(s.dL9,{})})]}),(0,i.jsx)("div",{className:"sidebar",children:(0,i.jsx)("nav",{className:"mt-3",children:(0,i.jsxs)("ul",{className:"nav nav-pills nav-sidebar flex-column",children:[(0,i.jsx)("li",{className:"nav-item",children:(0,i.jsxs)(n.OL,{to:"/dashboard",className:"nav-link",children:[(0,i.jsx)("i",{className:"nav-icon fas fa-tachometer-alt"}),(0,i.jsx)("p",{children:"Dashboard"})]})}),(0,i.jsx)("li",{className:"nav-item",children:(0,i.jsxs)(n.OL,{to:"/allworker",className:"nav-link",children:[(0,i.jsx)("i",{className:"nav-icon fas fa-th"}),(0,i.jsx)("p",{children:"Worker"})]})}),(0,i.jsx)("li",{className:"nav-item",children:(0,i.jsxs)(n.OL,{to:"/customer_list",className:"nav-link",children:[(0,i.jsx)("i",{className:"nav-icon fas fa-user"}),(0,i.jsx)("p",{children:"Customer"})]})}),(0,i.jsx)("li",{className:"nav-item",children:(0,i.jsxs)(n.OL,{to:"/bill",className:"nav-link",children:[(0,i.jsx)(s.t9y,{className:"nav-icon"}),(0,i.jsx)("p",{children:"Generate Bill"})]})})]})})})]})})}},4066:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(5545),s=a(2559);function l(){var e=(0,n.s0)();return(0,s.jsxs)("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light",children:[(0,s.jsx)("ul",{className:"navbar-nav",children:(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("a",{className:"nav-link","data-widget":"pushmenu",href:"#",role:"button",children:(0,s.jsx)("i",{className:"fas fa-bars"})})})}),(0,s.jsxs)("ul",{className:"navbar-nav ml-auto",children:[(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("a",{className:"nav-link","data-widget":"fullscreen",href:"#",role:"button",children:(0,s.jsx)("i",{className:"fas fa-expand-arrows-alt"})})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("a",{className:"nav-link",onClick:function(){localStorage.removeItem("token"),e("/")},role:"button",children:(0,s.jsx)("i",{className:"fas fa-power-off"})})})]})]})}}}]);
//# sourceMappingURL=270.ab7dcf08.chunk.js.map