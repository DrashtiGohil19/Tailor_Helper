{"version":3,"file":"static/js/908.157bbfbd.chunk.js","mappings":"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","sources":["components/Login.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function Login() {\r\n    const [val, setVal] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogin = () => {\r\n        if (!val.email.trim() || !val.password.trim()) {\r\n            toast.error('Please enter both email and password.', {\r\n                autoClose: 4000,\r\n                style: {\r\n                    backgroundColor: 'black',\r\n                    color: 'white',\r\n                },\r\n            });\r\n            return;\r\n        }\r\n\r\n        axios\r\n            .post('/login', {\r\n                email: val.email,\r\n                password: val.password,\r\n            })\r\n            .then(function (response) {\r\n                if (response.data.status === 'Success') {\r\n                    let isLoggedIn = response.data.data[0].isLoggedIn\r\n                    let userId = response.data.data[0]._id\r\n                    localStorage.setItem('token', response.data.token);\r\n                    if (response.data.data[0].role === \"user\") {\r\n                        localStorage.setItem(\"userId\", userId)\r\n                        localStorage.setItem(\"isLoggedIn\", isLoggedIn)\r\n                        localStorage.setItem(\"shopName\", response.data.data[0].shopName)\r\n                        navigate('/dashboard');\r\n                    } else if (response.data.data[0].role === \"admin\") {\r\n                        navigate('/admin/dashboard')\r\n                    }\r\n                } else {\r\n                    toast.error(response.data.status, {\r\n                        autoClose: 4000,\r\n                        style: {\r\n                            backgroundColor: 'black',\r\n                            color: 'white',\r\n                        },\r\n                    });\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                toast.error(error.response.data.status, {\r\n                    autoClose: 4000,\r\n                    style: {\r\n                        backgroundColor: 'black',\r\n                        color: 'white',\r\n                    },\r\n                });\r\n            });\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setVal({ ...val, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <div className=\"login-box\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body login-card-body\">\r\n                        <p className=\"login-box-msg\">Sign in to start your session</p>\r\n                        <form method=\"post\">\r\n                            <label>User Name</label>\r\n                            <div className=\"input-group mb-3\">\r\n                                <input\r\n                                    type=\"email\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Email\"\r\n                                    name=\"email\"\r\n                                    value={val.email}\r\n                                    onChange={handleChange}\r\n                                    autoComplete='email'\r\n                                />\r\n                                <div className=\"input-group-append\">\r\n                                    <div className=\"input-group-text\">\r\n                                        <span className=\"fas fa-envelope\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <label>Password</label>\r\n                            <div className=\"input-group mb-3\">\r\n                                <input\r\n                                    type=\"password\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Password\"\r\n                                    name=\"password\"\r\n                                    value={val.password}\r\n                                    onChange={handleChange}\r\n                                    autoComplete='current-password'\r\n                                />\r\n                                <div className=\"input-group-append\">\r\n                                    <div className=\"input-group-text\">\r\n                                        <span className=\"fas fa-lock\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <button className=\"btn btn-primary\" onClick={handleLogin}>\r\n                                LOGIN\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["Login","_useState","useState","email","password","_useState2","_slicedToArray","val","setVal","navigate","useNavigate","handleChange","e","_objectSpread","_defineProperty","target","name","value","_jsx","className","children","_jsxs","method","type","placeholder","onChange","autoComplete","onClick","trim","axios","then","response","data","status","isLoggedIn","userId","_id","localStorage","setItem","token","role","shopName","toast","autoClose","style","backgroundColor","color","catch","error","console","log"],"sourceRoot":""}